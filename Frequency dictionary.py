# -*- coding: utf-8 -*-
"""Лещенко Олег - Частотний словник.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1u8iPSKgdhtqMWQN6YQqNoUzt4Xo1edXA

**Частотний словник**

1. Знайти та завантажити txt-файл з текстом твору (кнопка завантаження у лівій бічній панелі в режимі Файли).
2. Прочитати весь текст з файлу. Перевести всі символи у нижній регістр (маленькі літери).
"""

f = open('shakespeare.sonets.short.txt', 'r') 
text = f.read()
text=text.lower()

"""3. Розділити текст на окремі слова на місцях пробілів, утворити список слів.
4. Видалити не алфавітні символи та порожні рядки. Вивести отриманий список.

"""

import re
text= re.sub(r'[^\w\s]','', text)
text=text.split()    
print(text)

"""
5. Утворити порожній словник. Ключами будуть слова з тексту, значеннями - кількість таких слів.
6. Пройти по всіх словах у списку. Якщо слово відсутнє у словнику, то додавати його як ключ зі значенням 1. Інакше збільшувати існуюче значення на 1.
7. Вивести отриманий словник та кількість елементів у ньому.
"""

a3 = {}
for i in text:
  if i not in a3:
    a3.update({i:1})
  else: a3[i] = a3[i] + 1
print(a3)

"""8*. Відсортувати елементи словника за значеннями в порядку спадання. Вивести отриманий результат.

"""

a3 = list(a3.items())
a3.sort(key=lambda i: i[1], reverse=True)
print(a3)

"""9. Зберегти отриманий частотний словник (або список з елементами словника) у текстовому файлі."""

f = open('new.txt', 'w')
for i in a3:
  f.write(i[0]+" "+str(i[1])+"\n") 
f.close()